{"version":3,"sources":["components/SensorMap/map-floor-3.png","components/NavigationBar/kozi-isaac-logo.png","components/LoginPage/kozi-isaac-logo.png","fonts/OpenSans-Regular.ttf","Views/MainPage.js","components/routes.js","components/App/App.js","components/SensorMap/SensorMap.js","hooks/useAuthenticatedUser.js","components/NavigationBar/NavigationBar.js","components/Widgets/Widgets.js","components/Sensor/sensorHoverView.js","components/Sensor/Sensor.js","components/LoginPage/LoginPage.js","index.js"],"names":["module","exports","GET_SENSORS","gql","MainPage","useQuery","pollInterval","data","loading","error","className","Spinner","animation","role","workingSensors","MeanClimateMeasurements","filter","goodData","SensorFaults","some","faultySensor","loc_x","loc_y","floor","faultySensors","Routes","path","component","Components","exact","withRouter","location","pathname","SensorMap","Container","fluid","Row","Col","xs","lg","map","sensor","Sensor","key","join","cellHeight","cellWidth","faulty","src","floorMapImg","alt","jwt","require","useAuthenticatedUser","useState","user","setUser","token","localStorage","getItem","decoded","decode","email","logout","removeItem","refresh","NavigationBar","history","useHistory","href","rel","Navbar","style","background","minHeight","expand","flex","Brand","isaacLogo","width","Nav","Dropdown","Toggle","variant","Menu","alignRight","Item","onClick","push","aria-hidden","Link","Widgets","avgTemp","reduce","a","b","temperature","length","toFixed","avgHum","humidity","xl","Sensorhoverview","props","fault_code","Overlay","transition","show","target","placement","containerPadding","Popover","id","Title","backgroundColor","color","as","Content","Math","round","DisplayErrorCode","setShow","setTarget","ref","useRef","handleHover","event","handleClose","onMouseEnter","onMouseLeave","position","left","top","height","LOGIN_QUERY","LoginPage","errorMessage","setErrorMessage","useLazyQuery","login","to","Login","accessToken","setItem","console","log","logo","onSubmit","preventDefault","variables","elements","value","password","htmlFor","type","name","Alert","e","client","ApolloClient","uri","process","cache","InMemoryCache","root","document","getElementById","ReactDOM","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.a5c15f41.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map-floor-3.47d1f062.png\";","module.exports = __webpack_public_path__ + \"static/media/kozi-isaac-logo.df9a5e3a.png\";","module.exports = __webpack_public_path__ + \"static/media/kozi-isaac-logo.df9a5e3a.png\";","module.exports = __webpack_public_path__ + \"static/media/OpenSans-Regular.3ed9575d.ttf\";","import { gql, useQuery } from '@apollo/client';\nimport React from \"react\";\nimport { Spinner } from 'react-bootstrap';\n\nimport * as Components from \"../components/index\";\n\nconst GET_SENSORS = gql`\n  {\n    MeanClimateMeasurements {\n      floor\n      loc_x\n      loc_y\n      temperature\n      humidity\n    },\n    SensorFaults {\n      id\n      loc_x\n      loc_y\n      floor\n      timestamp\n    }\n  }\n  \n`;\n\nexport default function MainPage() {\n\n  const { data, loading, error } = useQuery(GET_SENSORS, {\n    pollInterval: 10_000\n  });\n\n  if (error) return <h1>Something went wrong. Please try again</h1>\n  if (loading) return (\n    <div className=\"d-flex\"> \n      <Spinner className=\"mx-auto\" animation=\"border\" role=\"status\"> </Spinner> \n    </div> )\n\n  let workingSensors = data.MeanClimateMeasurements.filter(goodData => !data.SensorFaults.some(\n    faultySensor => goodData.loc_x === faultySensor.loc_x && goodData.loc_y === faultySensor.loc_y && goodData.floor === faultySensor.floor\n  ));\n\n  let faultySensors = data.SensorFaults\n  \n  return (\n    <div>\n      <Components.SensorMap workingSensors={workingSensors} faultySensors={faultySensors} />\n      <Components.Widgets workingSensors={workingSensors} />\n    </div>\n  );\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport * as Components from './index';\nimport MainPage from '../Views/MainPage';\nconst Routes = () => (\n  <main>\n    <Switch>\n      <Route path='/login' component={Components.LoginPage}>\n        {/* { sessionStorage.getItem('state') ? <Redirect to=\"/\" /> : undefined } */}\n      </Route>\n      <Route exact path='/' component={MainPage} />\n      <Route path='*' component={() => <div>error not found</div>} />\n    </Switch>\n  </main>\n);\n\nexport default Routes;\n","import React from 'react';\nimport Routes from '../routes.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as Components from '../index';\nimport { withRouter } from 'react-router-dom';\n\nexport const App = ({ location }) => {\n  return (\n    <div>\n      {location.pathname !== '/login' && <Components.NavigationBar />}\n      <Routes />\n    </div>\n  );\n};\n\nexport default withRouter(App);\n","import React from 'react'\nimport { Row, Col, Container } from 'react-bootstrap'\nimport floorMapImg from './map-floor-3.png'\nimport './styles.css'\nimport { Sensor } from '../'\n\nconst CELL_WIDTH = 100 / 32 // 32 cells horizontally, each one of them 100/32% wide\nconst CELL_HEIGHT = 100 / 14 // 14 cells vertically, each one of them 100/14% wide\n\nexport const SensorMap = ({ workingSensors, faultySensors }) => {\n\n  return (\n    <Container fluid>\n      <Row className='justify-content-center'>\n        <Col xs={11} lg={10} className='p-0'>\n          {workingSensors.map((sensor) => (\n            <Sensor key={[sensor.loc_x, sensor.loc_y, sensor.floor].join(\"-\")}\n              {...sensor}\n              cellHeight={CELL_HEIGHT}\n              cellWidth={CELL_WIDTH}\n            />\n          ))}\n\n          {faultySensors.map((sensor) => (\n            <Sensor key={[sensor.loc_x, sensor.loc_y, sensor.floor].join(\"-\")}\n              {...sensor}\n              cellHeight={CELL_HEIGHT}\n              cellWidth={CELL_WIDTH}\n              faulty={true}\n            />\n          ))}\n\n          <img className='w-100' src={floorMapImg} alt='Map' />\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n","import { useState } from 'react'\n\nconst jwt = require('jsonwebtoken')\n\nconst useAuthenticatedUser = () => {\n\n    const [user, setUser] = useState(null)\n    const token = localStorage.getItem('token')\n    const decoded = jwt.decode(token)\n\n    if (decoded && !user) {\n        setUser({\n            email: decoded.email,\n\n            logout() {\n                localStorage.removeItem('token')\n                setUser(false)\n            },\n\n            refresh() {\n                setUser(false)\n            },\n        })\n    }\n    return user\n}\n\nexport default useAuthenticatedUser","import React from 'react';\nimport { Container, Navbar, Nav, Dropdown } from 'react-bootstrap';\nimport './NavigationBar.css';\nimport isaacLogo from './kozi-isaac-logo.png';\nimport { useHistory } from 'react-router-dom';\nimport useAuthenticatedUser from '../../hooks/useAuthenticatedUser';\n\nexport default function NavigationBar() {\n  const history = useHistory();\n\n  const toLogin = () => {\n    history.push('/login');\n  };\n\n  const user = useAuthenticatedUser();\n\n  return (\n    <Container fluid className='px-0 pb-5'>\n      <link\n        href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'\n        rel='stylesheet'\n      ></link>\n      <Navbar\n        className='d-flex'\n        style={{ background: 'white', minHeight: 120 }}\n        expand='lg'\n      >\n        <div style={{ flex: 1 }}>\n          <Navbar.Brand className='screen-center'>\n            <img\n              alt='Kozi Isaac logo'\n              src={isaacLogo}\n              width='300px'\n              className='align-top logo img-fluid'\n            />\n          </Navbar.Brand>\n        </div>\n\n        {user && (\n          <Nav>\n            <Dropdown>\n              <Dropdown.Toggle className='font-weight-bold' variant='none'>\n                {user.email}\n              </Dropdown.Toggle>\n              <Dropdown.Menu alignRight={true}>\n                <Dropdown.Item onClick={user.logout}>Log out</Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n          </Nav>\n        )}\n        {!user && (\n          <Nav>\n            <div onClick={toLogin} className='text-center'>\n              <i className='fa fa-sign-in link-icon btn' aria-hidden='true' />\n              <strong>\n                <Nav.Link\n                  href='login'\n                  className='link-text text-decoration-none'\n                >\n                  Login\n                </Nav.Link>\n              </strong>\n            </div>\n          </Nav>\n        )}\n      </Navbar>\n    </Container>\n  );\n}\n","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport './widgets.css';\n\nconst Widgets = ({ workingSensors }) => {\n  var avgTemp =\n    (\n      workingSensors.reduce((a, b) => a + b.temperature, 0) /\n      workingSensors.length\n    ).toFixed(1) || 0;\n\n  var avgHum =\n    (\n      workingSensors.reduce((a, b) => a + b.humidity, 0) / workingSensors.length\n    ).toFixed(1) || 0;\n\n  return (\n    <Container>\n      <Row lg='8' xl='7' className='justify-content-center'>\n        <Col className='widget '>\n          <h1 className='value'>{workingSensors.length}</h1>\n          <p className='description'>Active sensors</p>\n        </Col>\n        <Col className='widget'>\n          <h1 className='value'>{avgTemp}°C</h1>\n          <p className='description'>Avg.Temp</p>\n        </Col>\n        <Col className='widget'>\n          <h1 className='value'>{avgHum}%</h1>\n          <p className='description'>Avg.Hum</p>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Widgets;\n","import React from 'react';\nimport { Overlay, Popover } from 'react-bootstrap';\nexport function Sensorhoverview(props) {\n  if (props.fault_code === '') {\n    return (\n      <Overlay\n        transition={null}\n        show={props.show}\n        target={props.target}\n        placement='top'\n        containerPadding={20}\n      >\n        <Popover id='popover-contained'>\n          <Popover.Title\n            className='text-nowrap'\n            style={{ backgroundColor: '#349CDB', color: '#ffffff' }}\n            as='h3'\n          >\n            Sensor Information\n          </Popover.Title>\n          <Popover.Content>\n            <strong>Floor:</strong> {props.floor}\n            <br />\n            <strong>X:</strong> {props.loc_x + ' '}\n            <strong>Y:</strong> {props.loc_y}\n            <br />\n            <strong>T:</strong>{' '}\n            {(Math.round(props.temperature * 100) / 100).toFixed(1) + ' °C '}\n            <strong>H:</strong>{' '}\n            {(Math.round(props.humidity * 100) / 100).toFixed(1)}\n          </Popover.Content>\n        </Popover>\n      </Overlay>\n    );\n  } else {\n    return (\n      <Overlay\n        transition={null}\n        show={props.show}\n        target={props.target}\n        placement='top'\n        containerPadding={20}\n      >\n        <Popover id='popover-contained'>\n          <Popover.Title\n            className='text-nowrap'\n            style={{ backgroundColor: '#C12D3F', color: '#ffffff' }}\n            as='h3'\n          >\n            Sensor Information\n          </Popover.Title>\n          <Popover.Content>\n            <strong>An unexpected error occured:</strong>\n            <br />\n            {DisplayErrorCode(props.fault_code)}\n          </Popover.Content>\n        </Popover>\n      </Overlay>\n    );\n  }\n}\n\nfunction DisplayErrorCode(error) {\n  switch (error) {\n    case 'ERROR_TEMPERATURE_OUT_OF_RANGE':\n      return 'Temperature was unreasonably high or low';\n\n    case 'ERROR_TEMPERATURE_DIFFERENCE_MORE_THAN_2_CELSIUS':\n      return 'Temperature changed abruptly';\n\n    case 'ERROR_NOT_ENOUGH_VALID_ENTRIES':\n      return 'Sensor did not send enough temperature measurements';\n    default:\n      return 'Unknown error...';\n  }\n}\n\nexport default Sensorhoverview;\n","import React, { useState, useRef } from 'react';\nimport '../../fonts/OpenSans-Regular.ttf';\nimport './sensor.css';\nimport SensorHoverView from './sensorHoverView';\n\nexport default function Sensor({\n  floor,\n  loc_x,\n  loc_y,\n  faulty,\n  fault_code,\n  cellHeight = 100 / 32,\n  cellWidth = 100 / 14,\n  temperature = 0.0,\n  humidity,\n}) {\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const ref = useRef(null);\n\n  const handleHover = (event) => {\n    setShow(true);\n    setTarget(event.target);\n  };\n\n  const handleClose = (event) => {\n    setShow(false);\n  };\n\n  if (!faulty) {\n    return (\n      <>\n        <div\n          ref={ref}\n          onMouseEnter={handleHover}\n          onMouseLeave={handleClose}\n          className='sensor working-sensor'\n          style={{\n            position: 'absolute',\n            left: (loc_x - 1.25) * cellWidth + '%',\n            top: (loc_y - 1.25) * cellHeight + '%',\n            width: cellWidth + '%',\n            height: cellHeight + '%',\n          }}\n        >\n          <span>{temperature.toFixed(1) + '°C'}</span>\n          <SensorHoverView\n            show={show}\n            target={target}\n            floor={floor}\n            temperature={temperature}\n            fault_code=''\n            humidity={humidity}\n            loc_x={loc_x}\n            loc_y={loc_y}\n          />\n        </div>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <div\n          onMouseEnter={handleHover}\n          onMouseLeave={handleClose}\n          className='sensor faulty-sensor'\n          style={{\n            position: 'absolute',\n            left: (loc_x - 1.25) * cellWidth + '%',\n            top: (loc_y - 1.25) * cellHeight + '%',\n            width: cellWidth + '%',\n            height: cellHeight + '%',\n          }}\n        >\n          <span>!</span>\n          <SensorHoverView\n            show={show}\n            target={target}\n            floor={floor}\n            fault_code={fault_code}\n            loc_x={loc_x}\n            loc_y={loc_y}\n          />\n        </div>\n      </>\n    );\n  }\n}\n","import React, { useState } from 'react';\nimport './LoginPage.css';\nimport logo from './kozi-isaac-logo.png';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport { gql, useLazyQuery } from '@apollo/client';\nimport { Alert } from 'react-bootstrap';\nimport useAuthenticatedUser from '../../hooks/useAuthenticatedUser';\n\nconst LOGIN_QUERY = gql`\n  query Login($email: String, $password: String) {\n    Login(email: $email, password: $password) {\n      accessToken\n      error\n    }\n  }\n`;\n\nexport default function LoginPage() {\n  const history = useHistory();\n\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const user = useAuthenticatedUser();\n\n  const [login, { error, data }] = useLazyQuery(LOGIN_QUERY);\n\n  const handleLogin = (event) => {\n    event.preventDefault();\n    login({\n      variables: {\n        email: event.target.elements.email.value,\n        password: event.target.elements.password.value,\n      },\n    });\n  };\n\n  const toHome = (e) => {\n    e.preventDefault();\n    history.push('');\n  };\n\n  if (user) {\n    return <Redirect to='/' />;\n  }\n\n  if (data && data.Login.accessToken) {\n    localStorage.setItem('token', data.Login.accessToken);\n    return <Redirect to='/' />;\n  }\n\n  if (data && data.Login.error && data.Login.error !== errorMessage) {\n    setErrorMessage(data.Login.error);\n  }\n\n  if (error) {\n    console.log(error);\n  }\n\n  return (\n    <div className='main-login'>\n      <small> {user && user.email} </small>\n      <link\n        href='https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'\n        rel='stylesheet'\n      />\n      <div className='d-md-flex h-md-100 align-items-center'>\n        <div className='col-md-6 pt-md-5 p-0 h-md-100 '>\n          <div className='text-white  d-md-flex h-100 p-5'>\n            <div className='p-md-5 pb-5'>\n              <div className='d-flex justify-content-center align-items-center'>\n                <div className='col-10 col-md-10'>\n                  <img className='img img-fluid' src={logo} alt='logo' />\n                </div>\n              </div>\n\n              <hr />\n\n              <p className='text-p-secondary h2 mt-5'>Login</p>\n\n              <form className='mt-3' onSubmit={handleLogin}>\n                <label htmlFor='email' className='text-p-secondary'>\n                  Email\n                </label>\n                <div className='input-group'>\n                  <div className='input-group-prepend'>\n                    <span className='input-group-text'>\n                      <i className='fa fa-envelope' aria-hidden='true'></i>\n                    </span>\n                  </div>\n                  <input type='email' name='email' className='form-control' />\n                </div>\n\n                <label htmlFor='email' className='text-p-secondary mt-4'>\n                  Password\n                </label>\n                <div className='input-group'>\n                  <div className='input-group-prepend'>\n                    <span className='input-group-text'>\n                      <i className='fa fa-unlock-alt' aria-hidden='true'></i>\n                    </span>\n                  </div>\n                  <input\n                    type='password'\n                    name='password'\n                    className='form-control'\n                  />\n                </div>\n                {/* Error message */}\n                <Alert className='mt-4' show={errorMessage} variant='info'>\n                  {' '}\n                  {errorMessage}{' '}\n                </Alert>\n\n                <div className='col-xl-6'>\n                  <button\n                    id='submitAction'\n                    type='submit'\n                    className='btn btn-p-primary btn-block btn-round mt-5  '\n                  >\n                    <span\n                      id='main-executeAction'\n                      className='text-p-primary text-font-primary'\n                    >\n                      Login\n                    </span>\n                  </button>\n                </div>\n              </form>\n\n              <div className='col-xl-6'>\n                <button\n                  id='main-forgottenPassword'\n                  type='submit'\n                  className='btn btn-p-primary btn-block btn-round mt-3'\n                >\n                  <span className='text-p-primary text-font-secondary'>\n                    Forgotten Password\n                  </span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className='col-md-6 bg-blue '>\n          <div className='d-flex flex-column align-items-center h-md-100  p-5 justify-content-center'>\n            <h1 id='side-action' className='h1 text-white'>\n              Guest\n            </h1>\n            <p id='side-description' className='text-white h4 text-center'>\n              Enter to view real-time sensor information!\n            </p>\n            <a\n              href='/'\n              id='switcher'\n              onClick={toHome}\n              className='btn btn-round btn-switcher btn-lg btn-block mt-3'\n            >\n              Login as a guest\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport { ApolloClient, InMemoryCache, ApolloProvider } from '@apollo/client';\n\nconst client = new ApolloClient({\n  uri: process.env.REACT_APP_API_URL || 'http://localhost:4000/graphql/',\n  cache: new InMemoryCache(),\n});\n\nconst root = document.getElementById('root');\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <BrowserRouter basename='/kozi-frontend'>\n        <App />\n      </BrowserRouter>\n    </ApolloProvider>\n  </React.StrictMode>,\n  root\n);\n"],"sourceRoot":""}